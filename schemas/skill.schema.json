{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://cellm.dev/schemas/skill.schema.json",
  "title": "CELLM Skill Schema",
  "description": "Schema para validação de arquivos de skill (cellm-core/skills/)",
  "type": "object",
  "required": ["skill", "triggers"],
  "properties": {
    "skill": {
      "type": "string",
      "pattern": "^[a-z]+(-[a-z]+)*$",
      "description": "Nome da skill em kebab-case (ex: vue, nuxt, nuxt-ui)"
    },
    "version": {
      "type": "string",
      "pattern": "^v[0-9]+\\.[0-9]+\\.[0-9]+$",
      "description": "Versão semântica (ex: v1.0.0)",
      "default": "v0.10.0"
    },
    "status": {
      "type": "string",
      "enum": ["OK", "DRAFT", "REVISAR", "OBSOLETO"],
      "description": "Status da skill",
      "default": "OK"
    },
    "budget": {
      "type": "string",
      "pattern": "^~[0-9]+( tokens)?$",
      "description": "Estimativa de tokens (ex: ~300 tokens)"
    },
    "triggers": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "description": "Padrões glob que ativam esta skill (ex: app/**/*.vue)"
    },
    "technology": {
      "type": "string",
      "description": "Tecnologia ou framework que a skill representa"
    },
    "relatedPatterns": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[A-Z]+-\\*$|^[A-Z]+-[0-9]{3}$"
      },
      "description": "Patterns relacionados (ex: VU-*, NX-001)"
    },
    "dependencies": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[a-z]+(-[a-z]+)*$"
      },
      "description": "Outras skills das quais esta depende"
    }
  },
  "examples": [
    {
      "skill": "vue",
      "triggers": ["app/**/*.vue"]
    },
    {
      "skill": "nuxt",
      "triggers": ["app/**", "server/**"],
      "technology": "Nuxt 4"
    },
    {
      "skill": "drizzle",
      "triggers": ["server/database/**", "**/*.schema.ts"],
      "relatedPatterns": ["DR-*"]
    },
    {
      "skill": "stripe",
      "triggers": ["**/stripe/**", "**/payment/**"],
      "dependencies": ["nuxt"]
    }
  ]
}
